!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(r.d3_dsv={})}(this,function(r){"use strict";function n(r){return new Function("d","return {"+r.map(function(r,n){return JSON.stringify(r)+": d["+n+"]"}).join(",")+"}")}function t(r,t){var e=n(r);return function(n,o){return t(e(n),o,r)}}function e(r){var n=Object.create(null),t=[];return r.forEach(function(r){for(var e in r)e in n||t.push(n[e]=e)}),t}function o(r){function o(r,e){var o,a,i=u(r,function(r,u){return o?o(r,u-1):(a=r,void(o=e?t(r,e):n(r)))});return i.columns=a,i}function u(r,n){function t(){if(s>=f)return a;if(o)return o=!1,u;var n,t=s;if(34===r.charCodeAt(t)){for(var e=t;e++<f;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return s=e+2,n=r.charCodeAt(e+1),13===n?(o=!0,10===r.charCodeAt(e+2)&&++s):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;f>s;){var i=1;if(n=r.charCodeAt(s++),10===n)o=!0;else if(13===n)o=!0,10===r.charCodeAt(s)&&(++s,++i);else if(n!==p)continue;return r.slice(t,s-i)}return r.slice(t)}for(var e,o,u={},a={},i=[],f=r.length,s=0,c=0;(e=t())!==a;){for(var v=[];e!==u&&e!==a;)v.push(e),e=t();n&&null==(v=n(v,c++))||i.push(v)}return i}function a(n,t){return null==t&&(t=e(n)),[t.map(s).join(r)].concat(n.map(function(n){return t.map(function(r){return s(n[r])}).join(r)})).join("\n")}function i(r){return r.map(f).join("\n")}function f(n){return n.map(s).join(r)}function s(r){return c.test(r)?'"'+r.replace(/\"/g,'""')+'"':r}var c=new RegExp('["'+r+"\n]"),p=r.charCodeAt(0);return{parse:o,parseRows:u,format:a,formatRows:i}}var u=o(","),a=u.parse,i=u.parseRows,f=u.format,s=u.formatRows,c=o("	"),p=c.parse,v=c.parseRows,d=c.format,m=c.formatRows,l="0.2.0";r.version=l,r.dsv=o,r.csvParse=a,r.csvParseRows=i,r.csvFormat=f,r.csvFormatRows=s,r.tsvParse=p,r.tsvParseRows=v,r.tsvFormat=d,r.tsvFormatRows=m});